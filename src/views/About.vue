<script setup>
import { ref, onMounted } from "vue";
import Header from "../components/Header.vue";
import { Timeline } from "ant-design-vue";

const navLinks = ref([
  { name: "é¦–é¡µ", path: "/" },
  { name: "å…³äºæˆ‘", path: "/about" },
  { name: "ä½œå“é›†", path: "/portfolio" },
  { name: "åšå®¢", path: "/blog" },
]);

const experiences = ref([
  {
    title: "é«˜çº§å‰ç«¯å¼€å‘å·¥ç¨‹å¸ˆ",
    company: "XXç§‘æŠ€æœ‰é™å…¬å¸",
    period: "2021 - è‡³ä»Š",
    description:
      "è´Ÿè´£å…¬å¸æ ¸å¿ƒäº§å“çš„å‰ç«¯æ¶æ„è®¾è®¡å’Œå¼€å‘ï¼Œå¸¦é¢†å›¢é˜Ÿå®Œæˆå¤šä¸ªé‡è¦é¡¹ç›®ã€‚",
    achievements: [
      "ä¼˜åŒ–å‰ç«¯æ€§èƒ½ï¼Œæå‡é¡µé¢åŠ è½½é€Ÿåº¦50%",
      "å»ºç«‹å‰ç«¯å¼€å‘è§„èŒƒå’Œç»„ä»¶åº“",
      "æŒ‡å¯¼åˆçº§å¼€å‘è€…ï¼Œæå‡å›¢é˜Ÿæ•´ä½“æŠ€æœ¯æ°´å¹³",
    ],
  },
  {
    title: "å‰ç«¯å¼€å‘å·¥ç¨‹å¸ˆ",
    company: "XXç½‘ç»œç§‘æŠ€å…¬å¸",
    period: "2019 - 2021",
    description: "å‚ä¸ç”µå•†å¹³å°çš„å¼€å‘å’Œç»´æŠ¤ï¼Œè´Ÿè´£å¤šä¸ªæ ¸å¿ƒåŠŸèƒ½æ¨¡å—ã€‚",
    achievements: [
      "å®ç°å¤æ‚çš„å•†å“å±•ç¤ºå’Œè´­ç‰©è½¦åŠŸèƒ½",
      "å¼€å‘é€šç”¨ç»„ä»¶åº“ï¼Œæé«˜å¼€å‘æ•ˆç‡",
      "è§£å†³è·¨æµè§ˆå™¨å…¼å®¹æ€§é—®é¢˜",
    ],
  },
]);

const skills = ref([
  {
    name: "å‰ç«¯å¼€å‘",
    items: ["Vue.js", "React", "TypeScript", "Webpack", "Sass/Less"],
  },
  {
    name: "åç«¯æŠ€æœ¯",
    items: ["Node.js", "Express", "MongoDB", "RESTful API"],
  },
  {
    name: "å¼€å‘å·¥å…·",
    items: ["Git", "VS Code", "Docker", "Nginx"],
  },
  {
    name: "è½¯æŠ€èƒ½",
    items: ["å›¢é˜Ÿåä½œ", "é¡¹ç›®ç®¡ç†", "æŠ€æœ¯åˆ†äº«", "é—®é¢˜è§£å†³"],
  },
]);

const interests = ref([
  {
    icon: "ğŸ®",
    name: "æ¸¸æˆå¼€å‘",
    description: "ä¸šä½™æ—¶é—´å­¦ä¹ æ¸¸æˆå¼€å‘ï¼Œçƒ­è¡·äºåˆ›é€ æœ‰è¶£çš„äº¤äº’ä½“éªŒ",
  },
  {
    icon: "ğŸ“š",
    name: "æŠ€æœ¯å†™ä½œ",
    description: "ç»å¸¸åœ¨æŠ€æœ¯ç¤¾åŒºåˆ†äº«å¼€å‘ç»éªŒå’Œå¿ƒå¾—",
  },
  {
    icon: "ğŸ¨",
    name: "UI è®¾è®¡",
    description: "å¯¹ç•Œé¢è®¾è®¡æœ‰æµ“åšå…´è¶£ï¼Œè¿½æ±‚æè‡´çš„ç”¨æˆ·ä½“éªŒ",
  },
  {
    icon: "ğŸŒ±",
    name: "å¼€æºè´¡çŒ®",
    description: "ç§¯æå‚ä¸å¼€æºé¡¹ç›®ï¼Œä¸ºç¤¾åŒºè´¡çŒ®ä»£ç ",
  },
]);

// åŠ¨ç”»ç›¸å…³
const sections = ref([]);
const observerCallback = (entries) => {
  entries.forEach((entry) => {
    if (entry.isIntersecting) {
      entry.target.classList.add("visible");
    }
  });
};

onMounted(() => {
  sections.value = document.querySelectorAll(".animate-section");
  const observer = new IntersectionObserver(observerCallback, {
    threshold: 0.2,
  });

  sections.value.forEach((section) => {
    observer.observe(section);
  });
});
</script>

<template>
  <div class="about-container">
    <Header :navLinks="navLinks" />

    <!-- ä¸ªäººç®€ä»‹ -->
    <section class="hero-section animate-section">
      <div class="profile-card">
        <div class="profile-image">
          <!-- è¿™é‡Œå¯ä»¥æ”¾ç½®ä½ çš„å¤´åƒ -->
          <div class="avatar-placeholder">
            <span>YH</span>
          </div>
        </div>
        <div class="profile-info">
          <h1>å‰ç«¯å¼€å‘å·¥ç¨‹å¸ˆ</h1>
          <p class="bio">çƒ­çˆ±æŠ€æœ¯ï¼Œè¿½æ±‚åˆ›æ–°ï¼Œè‡´åŠ›äºåˆ›é€ ä¼˜ç§€çš„ç”¨æˆ·ä½“éªŒ</p>
          <div class="contact-info">
            <a href="mailto:example@email.com" class="contact-item">
              <i class="fas fa-envelope"></i>
              example@email.com
            </a>
            <a
              href="https://github.com/yourusername"
              target="_blank"
              class="contact-item"
            >
              <i class="fab fa-github"></i>
              GitHub
            </a>
          </div>
        </div>
      </div>
    </section>

    <!-- å·¥ä½œç»å† -->
    <section class="experience-section animate-section">
      <h2>å·¥ä½œç»å†</h2>
      <a-timeline mode="alternate">
        <a-timeline-item v-for="(exp, index) in experiences" :key="index">
          <div class="experience-card">
            <h3>{{ exp.title }}</h3>
            <h4>{{ exp.company }}</h4>
            <p class="period">{{ exp.period }}</p>
            <p class="description">{{ exp.description }}</p>
            <ul class="achievements">
              <li v-for="(achievement, i) in exp.achievements" :key="i">
                {{ achievement }}
              </li>
            </ul>
          </div>
        </a-timeline-item>
      </a-timeline>
    </section>

    <!-- æŠ€èƒ½å±•ç¤º -->
    <section class="skills-section animate-section">
      <h2>ä¸“ä¸šæŠ€èƒ½</h2>
      <div class="skills-grid">
        <div
          v-for="(category, index) in skills"
          :key="index"
          class="skill-card"
        >
          <h3>{{ category.name }}</h3>
          <div class="skill-tags">
            <span
              v-for="(item, i) in category.items"
              :key="i"
              class="skill-tag"
            >
              {{ item }}
            </span>
          </div>
        </div>
      </div>
    </section>

    <!-- å…´è¶£çˆ±å¥½ -->
    <section class="interests-section animate-section">
      <h2>å…´è¶£çˆ±å¥½</h2>
      <div class="interests-grid">
        <div
          v-for="(interest, index) in interests"
          :key="index"
          class="interest-card"
        >
          <div class="interest-icon">{{ interest.icon }}</div>
          <h3>{{ interest.name }}</h3>
          <p>{{ interest.description }}</p>
        </div>
      </div>
    </section>
  </div>
</template>

<style lang="scss" scoped>
.about-container {
  padding: 80px 20px;
  max-width: 1200px;
  margin: 0 auto;
}

section {
  margin-bottom: 100px;
  opacity: 0;
  transform: translateY(30px);
  transition: all 0.8s ease;

  &.visible {
    opacity: 1;
    transform: translateY(0);
  }
}

h2 {
  font-size: 2.5rem;
  margin-bottom: 2rem;
  text-align: center;
  color: var(--theme-text);
  position: relative;

  &::after {
    content: "";
    position: absolute;
    bottom: -10px;
    left: 50%;
    transform: translateX(-50%);
    width: 60px;
    height: 3px;
    background: var(--theme-primary);
    border-radius: 2px;
  }
}

/* ä¸ªäººç®€ä»‹å¡ç‰‡ */
.profile-card {
  display: flex;
  align-items: center;
  gap: 3rem;
  padding: 2rem;
  background: var(--theme-card);
  border-radius: 16px;
  box-shadow: var(--theme-shadow);
  margin-top: 2rem;

  .profile-image {
    flex-shrink: 0;

    .avatar-placeholder {
      width: 200px;
      height: 200px;
      background: var(--theme-primary);
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 4rem;
      color: white;
    }
  }

  .profile-info {
    h1 {
      font-size: 2.5rem;
      margin-bottom: 1rem;
      color: var(--theme-text);
    }

    .bio {
      font-size: 1.2rem;
      color: var(--theme-textSecondary);
      margin-bottom: 1.5rem;
    }

    .contact-info {
      display: flex;
      gap: 1.5rem;

      .contact-item {
        display: flex;
        align-items: center;
        gap: 0.5rem;
        color: var(--theme-text);
        text-decoration: none;
        transition: all 0.3s ease;

        &:hover {
          color: var(--theme-primary);
        }
      }
    }
  }
}

/* å·¥ä½œç»å†æ—¶é—´çº¿ */
.experience-card {
  padding: 1.5rem;
  background: var(--theme-card);
  border-radius: 1rem;
  border: 1px solid var(--theme-border);

  h3 {
    font-size: 1.5rem;
    margin-bottom: 0.5rem;
    color: var(--theme-text);
  }

  h4 {
    font-size: 1.2rem;
    color: var(--theme-textSecondary);
    margin-bottom: 0.5rem;
  }

  .period,
  .description {
    margin-bottom: 1rem;
    color: var(--theme-text);
  }

  .achievements {
    list-style: none;
    padding-left: 0;

    li {
      margin-bottom: 0.5rem;
      color: var(--theme-textSecondary);
    }
  }
}
</style>
